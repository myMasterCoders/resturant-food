import{u as h}from"./CER20gh2.js";import{u as x,r as d,s as y,V as g,o as c,c as u,a as m,b as a,w as p,v as r,d as w,B as k,a6 as _}from"./CEHpqohg.js";const q={class:"home"},V={class:"container mx-auto p-1"},B={class:"w-full h-auto"},C={key:0,class:"inline-block h-5 w-5 mx-2 animate-spin rounded-full border-4 border-solid border-current border-e-transparent align-[-0.125em] text-surface motion-reduce:animate-[spin_1.5s_linear_infinite] dark:text-white",role:"status"},E={__name:"index",async setup(N){let t,i;const b=x(),f=d([]),l=d(!1),{data:s}=([t,i]=y(()=>h("/api/profile/info",{headers:_()},"$9s2sm8iETc")),t=await t,i(),t);console.log(s.value);async function v(n){try{l.value=!0;const o=await $fetch("/api/profile/edit",{method:"POST",headers:_(["cookie"]),body:{name:n.name,email:n.email}});b.success("ویرایش اطلاعات با موفقیت انجام شد",{position:"top-right",timeout:3e3,rtl:!0}),console.log(o)}catch(o){f.value=Object.values(o.data.data.message).flat()}finally{l.value=!1}}return(n,o)=>{const e=g("FormKit");return c(),u("section",q,[m("div",V,[m("div",B,[a(e,{onSubmit:v,type:"form",actions:!1,"incomplete-message":!1},{default:p(()=>[a(e,{value:r(s).name,type:"text",name:"name",id:"name",label:"نام و نام خانوادگی:",validation:"required","messages-class":"text-red-600","validation-messages":{required:"فیلد ورودی الزامی است"},"input-class":"p-1 my-4 border border-1 border-slate-200 outline-none"},null,8,["value"]),a(e,{value:r(s).email,type:"text",name:"email",id:"email",label:"ایمیل",validation:"required","messages-class":"text-red-600","validation-messages":{required:"فیلد ورودی الزامی است"},"input-class":"p-1 my-4 border border-1 border-slate-200 outline-none"},null,8,["value"]),a(e,{value:r(s).cellphone,type:"text",disabled:"",name:"cellphone",id:"cellphone",label:"شماره همراه",validation:"required","messages-class":"text-red-600","validation-messages":{required:"فیلد ورودی الزامی است"},"input-class":"p-1 my-4 border border-1 border-slate-200 outline-none"},null,8,["value"]),a(e,{type:"submit","messages-class":"text-red-600","input-class":"text-slate-100 bg-sky-600 px-4 py-2 rounded-lg"},{default:p(()=>[w(" ویرایش "),r(l)?(c(),u("div",C)):k("",!0)]),_:1})]),_:1})])])])}}};export{E as default};
