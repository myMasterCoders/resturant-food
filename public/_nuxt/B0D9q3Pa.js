import{n as C,r as y,a2 as j,s as b,L as D,M as L,N as B,W as M,o as r,c as m,a as e,t as o,v as s,y as N,F as h,x as P,Y as R}from"./CEHpqohg.js";import{u as w}from"./CER20gh2.js";import{s as U}from"./BV26Eilu.js";import{n as d}from"./DK30iesx.js";import{u as q}from"./CNCUaJ12.js";const A=C("/image/not-Found.jpg"),S={class:"flex flex-row items-center justify-around w-full p-4"},z={class:"w-4/12"},E={class:"my-2"},V={key:0,class:"my-2"},W={class:"text-slate-600"},X={key:1,class:"my-4"},Y={class:"w-full flex flex-row items-center justify-around"},G={class:"flex flex-row"},H={class:"w-4/12"},J={src:A,alt:"",class:"w-full h-[250px]"},K={class:"flex flex-row items-center w-full justify-around my-8"},O=["src"],Q={class:"my-4 text-[15px]"},T={class:"my-4 text-[13px]"},Z={key:0},ee={key:1},ie={__name:"[slug]",async setup(se){let l,p;const v=q(),{public:{baseUrl:g}}=R(),u=y(1),F=j();let i=y(0),f;const{data:a}=([l,p]=b(()=>w(`${g}/products/${F.params.slug}`,"$DzmMIp66f7")),l=await l,p(),l);console.log("products",a.value);const{data:x}=([l,p]=b(()=>w(`${g}/random-products?count=4`,"$X457phLkdN")),l=await l,p(),l),_=D([{image:`${a.value.data.primary_image}`},{image:`${a.value.data.images[0].image}`},{image:`${a.value.data.images[1].image}`}]);console.log(i.value);function k(){i.value++,i.value<=0&&(i.value=_.length-1),i.value>_.length-1&&(i.value=0)}L(()=>{f=U(k,4e3)}),B(()=>{clearInterval(f)});function $(t){v.removeItems(t.id),v.addProducts(t,u.value)}return(t,c)=>{const I=M("img");return r(),m(h,null,[e("div",S,[e("div",z,[e("p",E,o(s(a).data.name),1),e("p",null,o(s(a).data.description),1),s(a).data.is_sale?(r(),m("div",V,[e("del",W,o(("numberFormat"in t?t.numberFormat:s(d))(s(a).data.price))+" تومان",1),e("p",null,o(("numberFormat"in t?t.numberFormat:s(d))(s(a).data.sale_price))+" تومان",1)])):(r(),m("div",X,[e("p",null,o(("numberFormat"in t?t.numberFormat:s(d))(s(a).data.price))+" تومان",1)])),e("div",Y,[e("button",{onClick:c[0]||(c[0]=n=>$(s(a).data)),type:"button",class:"bg-green-600 p-2 text-slate-100"},"افزودن به سبد خرید"),e("div",G,[e("button",{onClick:c[1]||(c[1]=()=>s(u)<s(a).data.quantity&&u.value++),type:"button",class:"mx-4"},"+"),e("span",null,o(s(u)),1),e("button",{onClick:c[2]||(c[2]=()=>s(u)>1&&u.value--),type:"button",class:"mx-4"},"- ")])])]),e("div",H,[N(e("img",J,null,512),[[I,s(_)[s(i)].image]])])]),e("div",K,[(r(!0),m(h,null,P(s(x).data,n=>(r(),m("div",{key:n.id,class:"p-2 bg-slate-100 w-3/12 mx-2"},[e("img",{src:`${n.primary_image}`,alt:"",class:"w-[200px] h-[200px]"},null,8,O),e("p",Q,o(n.name),1),e("p",T,o(n.description),1),n.is_sale?(r(),m("div",Z,[e("del",null,o(("numberFormat"in t?t.numberFormat:s(d))(n.price))+" تومان",1),e("p",null,o(("numberFormat"in t?t.numberFormat:s(d))(n.sale_price))+" تومان",1)])):(r(),m("div",ee,[e("p",null,o(("numberFormat"in t?t.numberFormat:s(d))(n.price))+" تومان",1)]))]))),128))])],64)}}};export{ie as default};
