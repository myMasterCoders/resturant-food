import{_ as z}from"./L7xf8c34.js";import{_ as A,r as q,a1 as E,a2 as N,s as F,f as V,W as U,o as l,c as a,a as e,v as s,b as f,O as $,y as C,z as W,A as X,F as b,x as v,X as p,t as d,p as J,e as L,Y as M}from"./CEHpqohg.js";import{u as O}from"./CER20gh2.js";import{n as w}from"./DK30iesx.js";const m=y=>(J("data-v-d4ad731a"),y=y(),L(),y),T={class:"menu"},Y={class:"container mx-ato p-1"},G={class:"w-full h-auto"},H={key:0,class:"w-8/12 mx-auto text-center p-4"},K=m(()=>e("div",{class:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-current border-e-transparent align-[-0.125em] text-surface motion-reduce:animate-[spin_1.5s_linear_infinite] dark:text-white",role:"status"},null,-1)),Q=[K],Z={key:1,class:"w-full flex flex-row items-center justify-between p-2 sm:flex sm:flex-col md:flex md:flex-col lg:flex lg:flex-row lg:items-center lg:justify-between xl:flex xl:flex-row xl:items-center xl:justify-between"},ee={class:"w-3/12 sm:w-full md:w-full lg:w-3/12 xl:w-3/12 sm:bg-slate-200 p-4 flex h-[600px] flex-col"},te={class:"relative"},se=m(()=>e("p",{class:"text-slate-800 my-2"},"جستجو",-1)),oe={class:"absolute left-[10px] top-[50px]"},le=m(()=>e("p",{class:"text-slate-200 p-2 bg-slate-700 my-2"},"دسته بندی",-1)),ae={class:"flex flex-col"},ne=["onClick"],re=m(()=>e("p",{class:"text-slate-200 bg-slate-700 p-2 my-2"},"فیلتر محصولات",-1)),ie={class:"flex flex-col"},ce={class:"p-2 hover:bg-slate-600 hover:text-slate-100 transition"},ue={class:"p-2 hover:bg-slate-600 hover:text-slate-100 transition"},de={class:"p-2 hover:bg-slate-600 hover:text-slate-100 transition"},pe={class:"p-2 hover:bg-slate-600 hover:text-slate-100 transition"},me={key:0,class:"w-4/12 mx-auto"},_e=m(()=>e("p",{class:"text-slate-800 text-[20px]"},"محصول موردنظر یافت نشد",-1)),ye=[_e],xe={key:1,class:"w-8/12 sm:w-full md:w-full lg:w-8/12 xl:w-8/12 lg:mx-auto xl:mx-auto mx-auto"},he={class:"w-full flex flex-row items-center justify-between flex-wrap"},fe={class:"my-2"},be={class:"my-2 text-[14px]"},ve={key:0},we={class:"my-4"},ge={class:"my-4"},ke={key:1},Be={class:"my-4"},qe={class:"flex flex-row items-center justify-between"},Fe=m(()=>e("button",{type:"button",class:"bg-green-600 px-4 py-1 rounded-xl sm:text-[12px] text-[13px] text-slate-100"}," افزودن به سبد خرید ",-1)),$e={class:"w-4/12 mx-auto my-4"},Ce={class:"flex flex-row item-center justify-center"},Oe=["onClick"],je={__name:"menu",async setup(y){let i,x;const _=q(""),g=E(),o=N(),c=q({}),{public:{baseUrl:k}}=M(),{data:j}=([i,x]=F(()=>O(`${k}/categories`,"$4W2w75q3pE")),i=await i,x(),i);c.value=o.query;const{data:h,refresh:B,pending:P}=([i,x]=F(()=>O(`${k}/menu`,{query:c},"$JXkDRF063v")),i=await i,x(),i);V(()=>{Object.keys(o.query).length===0&&(c.value={},B())});function u(r){c.value={...o.query,...r},r.hasOwnProperty("page")||delete c.value.page,g.push({path:"/menu",query:c.value}),B()}function I(r){r.target.value===""&&(o.query.hasOwnProperty("search")&&delete c.value.search,g.push({path:"/menu",query:c.value}))}return(r,n)=>{const R=z,D=U("img");return l(),a("section",T,[e("div",Y,[e("div",G,[s(P)?(l(),a("div",H,Q)):(l(),a("div",Z,[e("div",ee,[e("div",te,[se,e("div",oe,[f(s($),{onClick:n[0]||(n[0]=t=>s(_)!==""&&u({search:s(_)})),icon:["fas","search"]})])]),C(e("input",{onInput:I,type:"text","onUpdate:modelValue":n[1]||(n[1]=t=>X(_)?_.value=t:null),class:"w-full p-2 outline-none border border-1 border-slate-200",placeholder:"جستجو..."},null,544),[[W,s(_)]]),le,e("ul",ae,[(l(!0),a(b,null,v(s(j).data,t=>(l(),a("li",{key:t.id,class:p([{bgBlack:s(o).query.hasOwnProperty("category")}&&s(o).query.category==t.id,"hover:bg-slate-600 hover:text-slate-100 p-1 transition"])},[e("p",{onClick:S=>u({category:t.id}),class:"my-2 cursor-pointer"},d(t.name),9,ne)],2))),128))]),re,e("ul",ie,[e("li",ce,[e("button",{class:p([{bgBlack:s(o).query.hasOwnProperty("sortBy")&&s(o).query.sortBy=="max"},"px-4 py-1"]),onClick:n[2]||(n[2]=t=>u({sortBy:"max"})),type:"button"},"بیشترین قیمت",2)]),e("li",ue,[e("button",{class:p([{bgBlack:s(o).query.hasOwnProperty("sortBy")&&s(o).query.sortBy=="min"},"px-4 py-1"]),onClick:n[3]||(n[3]=t=>u({sortBy:"min"})),type:"button"},"کمترین قیمت",2)]),e("li",de,[e("button",{class:p([{bgBlack:s(o).query.hasOwnProperty("sortBy")}&&s(o).query.sortBy=="bestseller","px-4 py-1"]),onClick:n[4]||(n[4]=t=>u({sortBy:"bestseller"})),type:"button"},"پرفروش ترین محصول",2)]),e("li",pe,[e("button",{class:p([{bgBlack:s(o).query.hasOwnProperty("sortBy")}&&s(o).query.sortBy=="sale","px-4 py-1"]),onClick:n[5]||(n[5]=t=>u({sortBy:"sale"})),type:"button"},"بیشترین تخفیف",2)])])]),s(h).data.products.length===0?(l(),a("div",me,ye)):(l(),a("div",xe,[e("div",he,[(l(!0),a(b,null,v(s(h).data.products,t=>(l(),a("div",{key:t.is,class:"p-2 bg-slate-100 w-4/12"},[C(f(R,{src:"/image/not-Found.jpg",format:"webp",loading:"lazy",quality:"80",alt:"",class:"w-[250px] h-[150px]"},null,512),[[D,`${t.primary_image}`]]),e("p",fe,d(t.name),1),e("p",be,d(t.description),1),t.is_sale?(l(),a("div",ve,[e("del",we,d(("numberFormat"in r?r.numberFormat:s(w))(t.price))+" تومان",1),e("p",ge,d(("numberFormat"in r?r.numberFormat:s(w))(t.sale_price))+" تومان",1)])):(l(),a("div",ke,[e("p",Be,d(("numberFormat"in r?r.numberFormat:s(w))(t.price))+" تومان",1)])),e("div",qe,[Fe,f(s($),{icon:["fas","cart-plus"],class:"p-2 rounded-full bg-orange-600 sm:invisible md:invisible lg:visible xl:visible text-slate-100"})])]))),128))])]))])),e("div",$e,[e("ul",Ce,[(l(!0),a(b,null,v(s(h).data.meta.links.slice(1,-1),t=>(l(),a("li",{key:t.id,class:p(["px-4 py-2",{bgBlack:t.active}])},[e("button",{onClick:S=>u({page:t.label}),type:"button"},d(t.label),9,Oe)],2))),128))])])])])])}}},Se=A(je,[["__scopeId","data-v-d4ad731a"]]);export{Se as default};
