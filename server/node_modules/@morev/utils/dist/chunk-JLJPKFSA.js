import {
  clamp
} from "./chunk-EJGCYSTB.js";
import {
  isFunction
} from "./chunk-CQJCSTBU.js";
import {
  isString
} from "./chunk-RUB2ELNH.js";

// src/functions/with-probability/with-probability.utils.ts
var toNumericProbability = (value) => {
  let isPercentage = false;
  if (isString(value)) {
    isPercentage = value.trim().endsWith("%");
    value = +value.replaceAll(/[^\d\-.]/g, "");
  }
  if (Number.isNaN(value))
    return 0;
  if (value > 1)
    isPercentage = true;
  if (isPercentage) {
    value = clamp(value, 0, 100);
    return value / 100;
  }
  return clamp(value, 0, 1);
};
var toValue = (value) => isFunction(value) ? value() : value;

export {
  toNumericProbability,
  toValue
};
