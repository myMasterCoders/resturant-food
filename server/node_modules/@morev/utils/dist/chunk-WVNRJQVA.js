import {
  sleep
} from "./chunk-HROAT5GA.js";
import {
  clamp
} from "./chunk-EJGCYSTB.js";

// src/promises/min-time-promise/min-time-promise.ts
var minTimePromise = async (promise, minTime = 0) => {
  const startTime = Date.now();
  let errorTime = null;
  const result = await Promise.all([promise, sleep(minTime)]).catch((e) => {
    errorTime = Date.now();
    return [e];
  });
  if (errorTime) {
    await sleep(clamp(minTime - (errorTime - startTime), 0));
    throw result[0];
  }
  return result[0];
};

export {
  minTimePromise
};
